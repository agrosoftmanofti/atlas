@using Microsoft.AspNetCore.Components.Forms
@using System.Reflection
@using System.Linq.Expressions

@typeparam T where T : class, new()
@inherits TextBase<T>

@if (string.IsNullOrWhiteSpace(ModelPropertyRender?.Tooltip))
{
    <MudTextField @bind-Value="@PropertyValue" For="FieldExpression" Variant="Variant.Outlined" Label="@ModelPropertyRender?.Label" />
}
else
{
    <MudTooltip Text="@ModelPropertyRender?.Tooltip" Placement="Placement.Top" Arrow="true" RootStyle="width: 100%">
        <MudTextField @bind-Value="@PropertyValue"
                        For="FieldExpression"
                        Label="@ModelPropertyRender?.Label"
                        ReadOnly="@(ModelPropertyRender == null ? false : ModelPropertyRender.ReadOnly)"
                        Variant="Variant.Outlined"/>
    </MudTooltip>    
}