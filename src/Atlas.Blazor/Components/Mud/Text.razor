@using Microsoft.AspNetCore.Components.Forms
@using System.Reflection
@using System.Linq.Expressions

@typeparam T where T : class, new()
@inherits TextBase<T>

@if (string.IsNullOrWhiteSpace(ModelPropertyRender?.Tooltip))
{
    <MudTextField @bind-Value="@PropertyValue" 
                  For="FieldExpression"
                  Label="@ModelPropertyRender?.Label"
                  Variant="Variant.Outlined"
                  ReadOnly="@(ModelPropertyRender == null ? false : ModelPropertyRender.ReadOnly)" />
}
else
{
    <MudTooltip Text="@ModelPropertyRender?.Tooltip" Placement="Placement.Top" Arrow="true" RootStyle="width: 100%">
        <MudTextField @bind-Value="@PropertyValue"
                        For="FieldExpression"
                        Label="@ModelPropertyRender?.Label"                        
                        Variant="Variant.Outlined"
                        ReadOnly="@(ModelPropertyRender == null ? false : ModelPropertyRender.ReadOnly)" />
    </MudTooltip>    
}